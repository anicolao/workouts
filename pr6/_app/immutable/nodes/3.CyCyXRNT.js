import{a as U,f as $}from"../chunks/D-0s749m.js";import{h as k,P as z,l as y,W as B,R as C,S as F,X as _,k as e,V as v,T as l,_ as P,U as r}from"../chunks/CFO0DM1P.js";import{e as R,s as S}from"../chunks/DDo-h9W_.js";import{s as V}from"../chunks/qIDg389h.js";import{s as x}from"../chunks/BHHx8Byi.js";import{i as W}from"../chunks/3WSDg3Ek.js";import{b as X}from"../chunks/DbfxVjst.js";function j(t,n,a){var s=t==null?"":""+t;return s=s?s+" "+n:n,s===""?null:s}function q(t,n,a,s,o,d){var p=t.__className;if(k||p!==a||p===void 0){var i=j(a,s);(!k||i!==t.getAttribute("class"))&&(i==null?t.removeAttribute("class"):t.className=i),t.__className=a}return d}var E=$('<div class="sync-page svelte-pillow"><header class="svelte-pillow"><a class="back-link svelte-pillow">‚Üê Back</a> <h1 class="svelte-pillow">Sync Status</h1></header> <div class="status-card svelte-pillow"><div class="status-row svelte-pillow"><span class="label svelte-pillow">Status:</span> <span> </span></div> <div class="status-row svelte-pillow"><span class="label svelte-pillow">Last Sync:</span> <span class="value svelte-pillow"> </span></div></div> <button class="sync-btn svelte-pillow"> </button></div>');function Q(t,n){z(n,!0);let a=_("idle"),s=_(null),o=_(null);const d=x.subscribe(()=>{const c=x.getState();y(a,c.workout.syncStatus,!0),y(s,c.workout.lastSync,!0),y(o,c.workout.accessToken,!0)});B(()=>{d()});async function p(){e(o)&&await W(e(o))}var i=E(),f=l(i),N=l(f);P(2),r(f);var w=v(f,2),b=l(w),m=v(l(b),2),A=l(m,!0);r(m),r(b);var g=v(b,2),h=v(l(g),2),T=l(h,!0);r(h),r(g),r(w);var u=v(w,2),D=l(u,!0);r(u),r(i),C((c,L)=>{V(N,"href",`${X??""}/`),q(m,1,`value ${e(a)??""}`,"svelte-pillow"),S(A,c),S(T,L),u.disabled=e(a)==="syncing"||!e(o),S(D,e(a)==="syncing"?"Syncing...":"Force Sync")},[()=>e(a).toUpperCase(),()=>e(s)?new Date(e(s)).toLocaleString():"Never"]),R("click",u,p),U(t,i),F()}export{Q as component};
